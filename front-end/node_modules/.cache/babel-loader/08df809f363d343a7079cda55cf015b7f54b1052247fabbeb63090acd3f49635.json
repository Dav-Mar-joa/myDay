{"ast":null,"code":"import React,{useState}from'react';import'./styles/Home.css';import'./styles/Mobile.css';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Identifiants(){const[mail,setMail]=useState(\"\");const[password,setPassword]=useState(\"\");const[pseudo,setPseudo]=useState(\"\");const[errorMessage,setErrorMessage]=useState(\"\");const handleSubmit=async e=>{e.preventDefault();const userData={mail,password};try{const API_URL=window.location.hostname===\"localhost\"?\"http://localhost:4000\":\"https://myday-back.onrender.com\";const response=await fetch(`{API_URL}/IdentifiantsPseudo`,{methode:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(userData),credentials:'include'});const data=await response.json;if(data.success){setPseudo(data.pseudo);// Réponse du backend avec le pseudo\n}else{setErrorMessage(\"Identifiants incorrects, veuillez réessayer.\");}}catch(error){console.error(\"Erreur lors de l'envoi :\",error);setErrorMessage(\"Erreur lors de la demande, veuillez réessayer.\");}};// const [pseudo, setPseudo] = useState('');\n// const [password, setPassword] = useState('');\n// const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     // Ici, tu peux envoyer les données au backend ou gérer la logique de création du compte\n//     const userData = {\n//       pseudo,\n//       password,\n//     };\n//     console.log('User Data:', userData);\n//     // Effectuer l'envoi de ces données à l'API ou base de données\n//     try {\n//         // const API_URL=process.env.REACT_APP_API_URL || \"http://localhost:4000\";\n//         // const API_URL=\"https://myday-back.onrender.com\";\n//         // const API_URL = \"http://localhost:4000\";\n//         const API_URL =\n//             window.location.hostname === \"localhost\"\n//                 ? \"http://localhost:4000\"\n//                 : \"https://myday-back.onrender.com\";\n//         const response = await fetch(`${API_URL}/Login`, {\n//         // const response = await fetch(\"http://localhost:4000/Login\", {\n//             method: \"POST\",\n//             headers: { \"Content-Type\": \"application/json\" },\n//             body: JSON.stringify(userData),\n//             credentials: 'include'\n//         });\n//         const data = await response.json();\n//         console.log(\"Réponse du serveur :\", data);\n//         if (data.success) {\n//             window.location.href = data.redirectUrl;\n//         }\n//     } catch (error) {\n//         console.error(\"Erreur lors de l'envoi :\", error);\n//     }\n//   };\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"M\"}),/*#__PURE__*/_jsx(\"span\",{children:\"y\"}),/*#__PURE__*/_jsx(\"span\",{children:\"D\"}),/*#__PURE__*/_jsx(\"span\",{children:\"a\"}),/*#__PURE__*/_jsx(\"span\",{children:\"y\"})]})}),/*#__PURE__*/_jsx(\"h5\",{children:\"Pseudo oubli\\xE9 :\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mail\",children:\"Mail: \"}),/*#__PURE__*/_jsx(\"input\",{className:\"login-input\",type:\"mail\",id:\"mail\",name:\"mail\",value:mail,onChange:e=>setMail(e.target.value),required:true,placeholder:\"\"})]}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Mot de passe : \"}),/*#__PURE__*/_jsx(\"input\",{className:\"login-input\",type:\"text\",id:\"password\",name:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true,placeholder:\"\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"submit-button\",onClick:handleSubmit,children:\"Valider\"})]}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage}),/*#__PURE__*/_jsx(\"h4\",{children:pseudo&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Votre pseudo est : \",pseudo]})})}),/*#__PURE__*/_jsx(\"hr\",{className:\"hr\"}),/*#__PURE__*/_jsx(Link,{to:\"/Login\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"submit-button\",children:\"Connexion\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"droits\",children:\"\\xA9 2025 myDay. Tous droits r\\xE9serv\\xE9s. Cette application, ainsi que l\\u2019ensemble de son contenu, est prot\\xE9g\\xE9e par les lois en vigueur relatives \\xE0 la propri\\xE9t\\xE9 intellectuelle. Les donn\\xE9es qu\\u2019elle contient sont chiffr\\xE9es afin d\\u2019en garantir la s\\xE9curit\\xE9. \"})]});}export default Identifiants;","map":{"version":3,"names":["React","useState","Link","jsx","_jsx","jsxs","_jsxs","Identifiants","mail","setMail","password","setPassword","pseudo","setPseudo","errorMessage","setErrorMessage","handleSubmit","e","preventDefault","userData","API_URL","window","location","hostname","response","fetch","methode","headers","body","JSON","stringify","credentials","data","json","success","error","console","className","children","onSubmit","htmlFor","type","id","name","value","onChange","target","required","placeholder","onClick","to"],"sources":["C:/Users/850_G5/Documents/Formation_Dot_Net/myday/front-end/src/IdentifiantsPseudo.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './styles/Home.css';\r\nimport './styles/Mobile.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Identifiants() {\r\n    const[mail, setMail]=useState(\"\")\r\n    const[password, setPassword]=useState(\"\")\r\n    const[pseudo, setPseudo]=useState(\"\")\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const userData={\r\n            mail,\r\n            password\r\n        }\r\n\r\n        try {\r\n            const API_URL = window.location.hostname === \"localhost\"\r\n            ? \"http://localhost:4000\"\r\n            : \"https://myday-back.onrender.com\";\r\n\r\n            const response = await fetch (`{API_URL}/IdentifiantsPseudo`,{  \r\n                methode:\"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(userData),\r\n                credentials: 'include'\r\n            })\r\n\r\n            const data = await response.json\r\n\r\n            if (data.success) {\r\n                setPseudo(data.pseudo);  // Réponse du backend avec le pseudo\r\n            } else {\r\n                setErrorMessage(\"Identifiants incorrects, veuillez réessayer.\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Erreur lors de l'envoi :\", error);\r\n            setErrorMessage(\"Erreur lors de la demande, veuillez réessayer.\");\r\n        }\r\n    }\r\n    // const [pseudo, setPseudo] = useState('');\r\n    // const [password, setPassword] = useState('');\r\n\r\n    // const handleSubmit = async (e) => {\r\n    //     e.preventDefault();\r\n    \r\n    //     // Ici, tu peux envoyer les données au backend ou gérer la logique de création du compte\r\n    //     const userData = {\r\n    //       pseudo,\r\n    //       password,\r\n    //     };\r\n        \r\n    //     console.log('User Data:', userData);\r\n    //     // Effectuer l'envoi de ces données à l'API ou base de données\r\n\r\n    //     try {\r\n    //         // const API_URL=process.env.REACT_APP_API_URL || \"http://localhost:4000\";\r\n\r\n    //         // const API_URL=\"https://myday-back.onrender.com\";\r\n    //         // const API_URL = \"http://localhost:4000\";\r\n    //         const API_URL =\r\n    //             window.location.hostname === \"localhost\"\r\n    //                 ? \"http://localhost:4000\"\r\n    //                 : \"https://myday-back.onrender.com\";\r\n                    \r\n            \r\n\r\n    //         const response = await fetch(`${API_URL}/Login`, {\r\n    //         // const response = await fetch(\"http://localhost:4000/Login\", {\r\n    //             method: \"POST\",\r\n    //             headers: { \"Content-Type\": \"application/json\" },\r\n    //             body: JSON.stringify(userData),\r\n    //             credentials: 'include'\r\n    //         });\r\n    \r\n    //         const data = await response.json();\r\n    //         console.log(\"Réponse du serveur :\", data);\r\n    \r\n    //         if (data.success) {\r\n    //             window.location.href = data.redirectUrl;\r\n    //         }\r\n    //     } catch (error) {\r\n    //         console.error(\"Erreur lors de l'envoi :\", error);\r\n    //     }\r\n    //   };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"header\">\r\n            <h1>\r\n                <span>M</span><span>y</span><span>D</span><span>a</span><span>y</span>\r\n                </h1>\r\n            </div >\r\n            \r\n            <h5>Pseudo oublié :</h5>\r\n            <form onSubmit={handleSubmit}>\r\n                <h4>\r\n                    <label htmlFor=\"mail\" >Mail: </label>\r\n                    <input className=\"login-input\"\r\n                    type=\"mail\"\r\n                    id=\"mail\"\r\n                    name=\"mail\"\r\n                    value={mail}\r\n                    onChange={(e) => setMail(e.target.value)}\r\n                    required\r\n                    placeholder=\"\"\r\n                    />\r\n                </h4>\r\n                <h4>\r\n                    <label htmlFor=\"password\" >Mot de passe : </label>\r\n                    <input className=\"login-input\"\r\n                    type=\"text\"\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    required\r\n                    placeholder=\"\"\r\n                    />\r\n                </h4>\r\n                \r\n                {/* <div className=\"boutton-clear-submit-index\">\r\n                        <button type=\"button\" className=\"submit-button\">\r\n                            Réinitialiser le mot de passe !\r\n                        </button>\r\n                </div> */}\r\n                \r\n                {/* <div className=\"boutton-clear-submit-index\">\r\n                    <Link to=\"/Register\">\r\n                        <button type=\"button\" className=\"submit-button\">\r\n                            Créer un compte\r\n                        </button>\r\n                    </Link>\r\n                </div> */}\r\n             <button type=\"button\" className=\"submit-button\" onClick={handleSubmit}>\r\n                  Valider\r\n              </button>   \r\n            </form>\r\n            {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\r\n            <h4>\r\n            {pseudo && (\r\n                <div>\r\n                    <h4>Votre pseudo est : {pseudo}</h4>\r\n                </div>\r\n            )}\r\n                </h4>\r\n\r\n            <hr className=\"hr\" />\r\n            <Link to=\"/Login\">\r\n              <button type=\"button\" className=\"submit-button\">\r\n                  Connexion\r\n              </button>\r\n             </Link>\r\n             <p className =\"droits\">© 2025 myDay. Tous droits réservés.\r\n             Cette application, ainsi que l’ensemble de son contenu, est protégée par les lois en vigueur relatives à la propriété intellectuelle. Les données qu’elle contient sont chiffrées afin d’en garantir la sécurité. </p>   \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Identifiants;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}