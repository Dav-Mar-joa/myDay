{"ast":null,"code":"import React from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";function LogoutButton(){const navigate=useNavigate();const handleLogout=async()=>{try{const API_URL=window.location.hostname===\"localhost\"?\"http://localhost:4000\":\"https://myday-back.onrender.com\";const response=await fetch(`${API_URL}/logout`,{method:'POST',credentials:'include'});const data=await response.json();console.log(data.message);// Redirection après déconnexion\nnavigate('/Login');}catch(error){console.error('Erreur lors de la déconnexion:',error);}};return/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"submit-button-deco\",onClick:handleLogout,children:/*#__PURE__*/_jsx(\"img\",{src:\"/logout.png\",alt:\"Logout\",className:\"logout-icon\"})});}export default LogoutButton;","map":{"version":3,"names":["React","useNavigate","jsx","_jsx","LogoutButton","navigate","handleLogout","API_URL","window","location","hostname","response","fetch","method","credentials","data","json","console","log","message","error","type","className","onClick","children","src","alt"],"sources":["C:/Users/850_G5/Documents/Formation_Dot_Net/myday/front-end/src/LogoutButton.js"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction LogoutButton() {\r\n    const navigate = useNavigate();\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            const API_URL =\r\n                window.location.hostname === \"localhost\"\r\n                    ? \"http://localhost:4000\"\r\n                    : \"https://myday-back.onrender.com\";\r\n                    \r\n            const response = await fetch(`${API_URL}/logout`, {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n            });\r\n\r\n            const data = await response.json();\r\n            console.log(data.message); \r\n\r\n            // Redirection après déconnexion\r\n            navigate('/Login');\r\n        } catch (error) {\r\n            console.error('Erreur lors de la déconnexion:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <button type=\"button\" className=\"submit-button-deco\" onClick={handleLogout}>\r\n            <img src=\"/logout.png\" alt=\"Logout\" className=\"logout-icon\" />\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default LogoutButton;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/C,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACpB,KAAM,CAAAC,QAAQ,CAAGJ,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAK,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACA,KAAM,CAAAC,OAAO,CACTC,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAK,WAAW,CAClC,uBAAuB,CACvB,iCAAiC,CAE3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGL,OAAO,SAAS,CAAE,CAC9CM,MAAM,CAAE,MAAM,CACdC,WAAW,CAAE,SACjB,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAACI,OAAO,CAAC,CAEzB;AACAd,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAAE,MAAOe,KAAK,CAAE,CACZH,OAAO,CAACG,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CAC1D,CACJ,CAAC,CAED,mBACIjB,IAAA,WAAQkB,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAC,oBAAoB,CAACC,OAAO,CAAEjB,YAAa,CAAAkB,QAAA,cACvErB,IAAA,QAAKsB,GAAG,CAAC,aAAa,CAACC,GAAG,CAAC,QAAQ,CAACJ,SAAS,CAAC,aAAa,CAAE,CAAC,CAC1D,CAAC,CAEjB,CAEA,cAAe,CAAAlB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}