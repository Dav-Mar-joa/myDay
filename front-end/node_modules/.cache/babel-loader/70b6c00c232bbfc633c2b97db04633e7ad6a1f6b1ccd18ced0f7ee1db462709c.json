{"ast":null,"code":"import React from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";function LogoutButton(){const navigate=useNavigate();const handleLogout=async()=>{try{const response=await fetch('http://localhost:4000/logout',{method:'POST',credentials:'include'// Pour inclure les cookies de session dans la requête\n});const data=await response.json();console.log(data.message);// Vous pouvez afficher un message ou gérer la réponse\n// Redirection après déconnexion\nnavigate('/login');// Utilisation de react-router pour la redirection\n}catch(error){console.error('Erreur lors de la déconnexion:',error);}};return/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"submit-button-deco\",onClick:handleLogout,children:/*#__PURE__*/_jsx(\"img\",{src:\"/logout.png\",alt:\"Logout\",className:\"logout-icon\"})});}export default LogoutButton;","map":{"version":3,"names":["React","useNavigate","jsx","_jsx","LogoutButton","navigate","handleLogout","response","fetch","method","credentials","data","json","console","log","message","error","type","className","onClick","children","src","alt"],"sources":["C:/Users/850_G5/Documents/Formation_Dot_Net/myday/front-end/src/LogoutButton.js"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction LogoutButton() {\r\n    const navigate = useNavigate();\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            const response = await fetch('http://localhost:4000/logout', {\r\n                method: 'POST',\r\n                credentials: 'include',  // Pour inclure les cookies de session dans la requête\r\n            });\r\n\r\n            const data = await response.json();\r\n            console.log(data.message);  // Vous pouvez afficher un message ou gérer la réponse\r\n\r\n            // Redirection après déconnexion\r\n            navigate('/login');  // Utilisation de react-router pour la redirection\r\n        } catch (error) {\r\n            console.error('Erreur lors de la déconnexion:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <button type=\"button\" className=\"submit-button-deco\" onClick={handleLogout}>\r\n            <img src=\"/logout.png\" alt=\"Logout\" className=\"logout-icon\" />\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default LogoutButton;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/C,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACpB,KAAM,CAAAC,QAAQ,CAAGJ,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAK,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,8BAA8B,CAAE,CACzDC,MAAM,CAAE,MAAM,CACdC,WAAW,CAAE,SAAY;AAC7B,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAACI,OAAO,CAAC,CAAG;AAE5B;AACAV,QAAQ,CAAC,QAAQ,CAAC,CAAG;AACzB,CAAE,MAAOW,KAAK,CAAE,CACZH,OAAO,CAACG,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CAC1D,CACJ,CAAC,CAED,mBACIb,IAAA,WAAQc,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAC,oBAAoB,CAACC,OAAO,CAAEb,YAAa,CAAAc,QAAA,cACvEjB,IAAA,QAAKkB,GAAG,CAAC,aAAa,CAACC,GAAG,CAAC,QAAQ,CAACJ,SAAS,CAAC,aAAa,CAAE,CAAC,CAC1D,CAAC,CAEjB,CAEA,cAAe,CAAAd,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}