{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./styles/Home.css';import'./styles/Mobile.css';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Settings(){const[feelings,setFeelings]=useState([]);const[editingIndex,setEditingIndex]=useState(null);const[modifiedFeelings,setModifiedFeelings]=useState({});/*#__PURE__*/_jsxs(\"select\",{onChange:handleSelectionChange,value:selectedOption,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un th\\xE8me\"}),/*#__PURE__*/_jsx(\"option\",{value:\"light\",children:\"Light\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dark\",children:\"Dark\"}),/*#__PURE__*/_jsx(\"option\",{value:\"colorful\",children:\"Colorful\"})]});useEffect(()=>{fetch('/getFeelings').then(res=>res.json()).then(data=>setFeelings(data.feelings)).catch(err=>console.error(\"Erreur en récupérant les émotions :\",err));},[]);const handleInputChange=(index,value)=>{setModifiedFeelings(prev=>({...prev,[index]:value}));};const updateFeeling=index=>{const newFeeling=modifiedFeelings[index];if(!newFeeling)return;fetch('/updateFeeling',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({index,newFeeling})}).then(res=>res.json()).then(data=>{if(data.success){const updatedFeelings=[...feelings];updatedFeelings[index]=newFeeling;setFeelings(updatedFeelings);setEditingIndex(null);setModifiedFeelings({});}else{console.error(\"Erreur côté serveur :\",data.message);}}).catch(err=>console.error(\"Erreur en mettant à jour :\",err));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"M\"}),/*#__PURE__*/_jsx(\"span\",{children:\"y\"}),/*#__PURE__*/_jsx(\"span\",{children:\"D\"}),/*#__PURE__*/_jsx(\"span\",{children:\"a\"}),/*#__PURE__*/_jsx(\"span\",{children:\"y\"})]})}),/*#__PURE__*/_jsx(\"h5\",{children:\"Theme\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:handleSelectionChange,value:selectedOption,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un th\\xE8me\"}),/*#__PURE__*/_jsx(\"option\",{value:\"light\",children:\"Light\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dark\",children:\"Dark\"}),/*#__PURE__*/_jsx(\"option\",{value:\"colorful\",children:\"Colorful\"})]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Historique des \\xE9motions :\"}),/*#__PURE__*/_jsx(\"ol\",{children:feelings.map((f,index)=>/*#__PURE__*/_jsx(\"ol\",{children:editingIndex===index?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:f,onChange:e=>handleInputChange(index,e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"button-option\",onClick:()=>updateFeeling(index),children:\"\\u2714\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button-option\",onClick:()=>setEditingIndex(null),children:\"\\u274C\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[f,/*#__PURE__*/_jsx(\"button\",{className:\"button-option\",onClick:()=>setEditingIndex(index),children:\"\\u270F\\uFE0F\"})]})},index))}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"submit-button\",children:\"Home Page\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"droits\",children:\"\\xA9 2025 myDay. Tous droits r\\xE9serv\\xE9s. Cette application, ainsi que l\\u2019ensemble de son contenu, est prot\\xE9g\\xE9e par les lois en vigueur relatives \\xE0 la propri\\xE9t\\xE9 intellectuelle. Les donn\\xE9es qu\\u2019elle contient sont chiffr\\xE9es afin d\\u2019en garantir la s\\xE9curit\\xE9.\"})]});}export default Settings;","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Settings","feelings","setFeelings","editingIndex","setEditingIndex","modifiedFeelings","setModifiedFeelings","onChange","handleSelectionChange","value","selectedOption","children","fetch","then","res","json","data","catch","err","console","error","handleInputChange","index","prev","updateFeeling","newFeeling","method","headers","body","JSON","stringify","success","updatedFeelings","message","className","map","f","type","defaultValue","e","target","onClick","to"],"sources":["C:/Users/850_G5/Documents/Formation_Dot_Net/myday/front-end/src/Settings.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './styles/Home.css';\r\nimport './styles/Mobile.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Settings() {\r\n    const [feelings, setFeelings] = useState([]);\r\n    const [editingIndex, setEditingIndex] = useState(null);\r\n    const [modifiedFeelings, setModifiedFeelings] = useState({});\r\n    <select onChange={handleSelectionChange} value={selectedOption}>\r\n    <option value=\"\">Sélectionner un thème</option>\r\n    <option value=\"light\">Light</option>\r\n    <option value=\"dark\">Dark</option>\r\n    <option value=\"colorful\">Colorful</option>\r\n</select>\r\n\r\n    useEffect(() => {\r\n        fetch('/getFeelings')\r\n            .then(res => res.json())\r\n            .then(data => setFeelings(data.feelings))\r\n            .catch(err => console.error(\"Erreur en récupérant les émotions :\", err));\r\n    }, []);\r\n\r\n    const handleInputChange = (index, value) => {\r\n        setModifiedFeelings(prev => ({\r\n            ...prev,\r\n            [index]: value\r\n        }));\r\n    };\r\n\r\n    const updateFeeling = (index) => {\r\n        const newFeeling = modifiedFeelings[index];\r\n        if (!newFeeling) return;\r\n\r\n        fetch('/updateFeeling', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ index, newFeeling })\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if (data.success) {\r\n                const updatedFeelings = [...feelings];\r\n                updatedFeelings[index] = newFeeling;\r\n                setFeelings(updatedFeelings);\r\n                setEditingIndex(null);\r\n                setModifiedFeelings({});\r\n            } else {\r\n                console.error(\"Erreur côté serveur :\", data.message);\r\n            }\r\n        })\r\n        .catch(err => console.error(\"Erreur en mettant à jour :\", err));\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"header\">\r\n                <h1>\r\n                    <span>M</span><span>y</span><span>D</span><span>a</span><span>y</span>\r\n                </h1>\r\n            </div>\r\n            <h5>Theme</h5>\r\n            <select onChange={handleSelectionChange} value={selectedOption}>\r\n                <option value=\"\">Sélectionner un thème</option>\r\n                <option value=\"light\">Light</option>\r\n                <option value=\"dark\">Dark</option>\r\n                <option value=\"colorful\">Colorful</option>\r\n            </select>\r\n            <h5>Historique des émotions :</h5>\r\n            <ol>\r\n                {feelings.map((f, index) => (\r\n                    <ol key={index}>\r\n                        {editingIndex === index ? (\r\n                            <>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    defaultValue={f}\r\n                                    onChange={(e) => handleInputChange(index, e.target.value)}\r\n                                />\r\n                                <button \r\n                                className=\"button-option\"\r\n                                onClick={() => updateFeeling(index)}>✔️</button>\r\n                                <button \r\n                                className=\"button-option\"\r\n                                onClick={() => setEditingIndex(null)}>❌</button>\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                {f}\r\n                                <button \r\n                                className=\"button-option\"\r\n                                onClick={() => setEditingIndex(index)}>✏️</button>\r\n                            </>\r\n                        )}\r\n                    </ol>\r\n                ))}\r\n            </ol>\r\n\r\n            <Link to=\"/\">\r\n                <button type=\"button\" className=\"submit-button\">Home Page</button>\r\n            </Link>\r\n\r\n            <p className=\"droits\">\r\n                © 2025 myDay. Tous droits réservés. Cette application, ainsi que l’ensemble de son contenu, est protégée par les lois en vigueur relatives à la propriété intellectuelle. Les données qu’elle contient sont chiffrées afin d’en garantir la sécurité.\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}